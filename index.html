<style>
    body{
        margin: 0; /* Remove default margin */
    }
    iframe{      
        display: block;  /* iframes are inline by default */   
        height: 95vh;  /* Set height to 100% of the viewport height */   
        width: 95vw;  /* Set width to 100% of the viewport width */     
        border: none; /* Remove default border */
    }
</style>


<body>

<table>
	<tr>
		<td>

			<button onclick='loadPage(currPage-1);'>Page prec√©dente</button>
			<button onclick='loadPage(currPage+1);'>
				&nbsp;&nbsp;<b>Page suivante</b>&nbsp;&nbsp;
			</button>
			
			&nbsp;&nbsp;&nbsp;&nbsp; - &nbsp;&nbsp;&nbsp;&nbsp;
			
			<span id='spanNumPage'></span>
			&nbsp;&nbsp;
			<span id='spanPageTitle'></span>
			
			&nbsp;&nbsp;&nbsp;&nbsp; - &nbsp;&nbsp;&nbsp;&nbsp;
			
			<span id='idBrowser'></span>
		</td>
	<tr>
	</tr>
		<td>
			<iframe id="mainFrame"></iframe>
		</td>
	</tr>
</table>



<script src='pages.js'></script>

<script>
	currPage = 0;
	loadPage(currPage);

   function getCookie(cookieName) {
       let cookies = document.cookie;
       let cookieArray = cookies.split("; ");
  
       for (let i = 0; i < cookieArray.length; i++) {
           let cookie = cookieArray[i];
           let [name, value] = cookie.split("=");
       
           if (name === cookieName) {
              return decodeURIComponent(value);
           }
        }
     
        return null;
    }


    function randomString ( len ) {
    	console.log ( 'randst 0');
    	let st = '';
    	const chars = 'QWERTYUIOPASDFGHJKLZXCVBNM1234567890';
    	const charslen = chars.length;
    	console.log ( 'randst 1');
    	for ( i=0; i<len; i++ ) {
    	console.log ( 'randst 0');
    		st += chars.charAt(Math.floor(Math.random()*charslen));
    	}
    	return st;
    }


	function getIdBrowser() {
		console.log ( 'getIdBrowser 0' );
		let idb = getCookie('idb');
		console.log ( 'getIdBrowser 1 ',idb );
		if (idb == null) {
			console.log ( 'getIdBrowser 2 ',idb );
			idb = randomString ( 8 );
			console.log ( 'getIdBrowser 3 ',idb );
			document.cookies = "idb="+idb;
		}
		console.log ( 'getIdBrowser end ',idb );
		return idb;
	}


	function loadPage ( newPage ) {
		currPage = newPage;

		let idBrowser = getIdBrowser();
		let pageData = getPage ( currPage );

		document.getElementById('spanNumPage').innerHTML = currPage;
		document.getElementById('idBrowser').innerHTML = idBrowser;
		let frame = document.getElementById('mainFrame');


		if (pageData==null) {
			document.getElementById('spanPageTitle').innerHTML = null;

			frame.setAttribute('title','Page inexistante');
			frame.setAttribute('src',null);

		} else {
			document.getElementById('spanPageTitle').innerHTML = pageData[0];

			frame.setAttribute('title',pageData[0]);
			frame.setAttribute('src',pageData[2]);
		}

		return false;
	}
</script>

</body>