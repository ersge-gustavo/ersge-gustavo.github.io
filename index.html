<style>
    body{
        margin: 0; /* Remove default margin */
    }
    iframe{      
        display: block;  /* iframes are inline by default */   
        height: 95vh;  /* Set height to 100% of the viewport height */   
        width: 95vw;  /* Set width to 100% of the viewport width */     
        border: none; /* Remove default border */
    }
</style>


<body>

<table>
	<tr>
		<td>

			<button onclick='loadPage(currPage-1);'>Page prec√©dente</button>
			<button onclick='loadPage(currPage+1);'>
				&nbsp;&nbsp;<b>Page suivante</b>&nbsp;&nbsp;
			</button>
			
			&nbsp;&nbsp;&nbsp;&nbsp; - &nbsp;&nbsp;&nbsp;&nbsp;
			
			<span id='spanNumPage'></span>
			&nbsp;&nbsp;
			<span id='spanPageTitle'></span>
			
			&nbsp;&nbsp;&nbsp;&nbsp; - &nbsp;&nbsp;&nbsp;&nbsp;
			
			<span id='idBrowser'></span>
		</td>
	<tr>
	</tr>
		<td>
			<iframe id="mainFrame"></iframe>
		</td>
	</tr>
</table>



<script src='pages.js'></script>

<script>
	const urlParams = new URLSearchParams(window.location.search);
	currPage = urlParams.get('page');
	if (currPage == null) currPage = 0;
	loadPage(currPage);

    function getCookie(cookieName) {
        let cookies = document.cookie;
        let cookieArray = cookies.split("; ");
  
        for (let i = 0; i < cookieArray.length; i++) {
            let cookie = cookieArray[i];
            let [name, value] = cookie.split("=");
       
            if (name === cookieName) {
              return decodeURIComponent(value);
            }
        }
     
        return null;
    }


    function randomString ( len ) {
    	let st = '';
    	const chars = 'QWERTYUIOPASDFGHJKLZXCVBNM1234567890';
    	const charslen = chars.length;
    	for ( i=0; i<len; i++ ) {
    		st += chars.charAt(Math.floor(Math.random()*charslen));
    	}
    	return st;
    }


	function getIdBrowser() {
		let idb = getCookie('idb');
		if (idb == null) {
			idb = randomString ( 8 );
			console.log ( 'created idBrowser ',idb );
			document.cookie = "idb="+idb+"; path=/";
		}
		return idb;
	}


	function loadPage ( newPage ) {
		currPage = newPage;

		const url = new URL(location);
		url.searchParams.set("page", currPage);
		history.pushState({}, "", url);

		let idBrowser = getIdBrowser();
		let pageData = getPage ( currPage );

		document.getElementById('spanNumPage').innerHTML = currPage;
		document.getElementById('idBrowser').innerHTML = idBrowser;
		let frame = document.getElementById('mainFrame');


		if (pageData==null) {
			document.getElementById('spanPageTitle').innerHTML = null;

			frame.setAttribute('title','Page inexistante');
			frame.setAttribute('src',null);

		} else {
			document.getElementById('spanPageTitle').innerHTML = pageData[0];

			frame.setAttribute('title',pageData[0]);
			frame.setAttribute('src',pageData[2]);
		}

		return false;
	}
</script>

</body>